!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Yuansfer=t()}(this,function(){"use strict";var bind=function(r,n){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return r.apply(n,e)}},toString=Object.prototype.toString;function isArray(e){return"[object Array]"===toString.call(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isDate(e){return"[object Date]"===toString.call(e)}function isFile(e){return"[object File]"===toString.call(e)}function isBlob(e){return"[object Blob]"===toString.call(e)}function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function merge(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=merge(r[t],e):r[t]=e}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],e);return r}function deepMerge(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=deepMerge(r[t],e):r[t]="object"==typeof e?deepMerge({},e):e}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],e);return r}function extend(r,e,n){return forEach(e,function(e,t){r[t]=n&&"function"==typeof e?bind(e,n):e}),r}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,deepMerge:deepMerge,extend:extend,trim:trim};function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(utils.isURLSearchParams(t))n=t.toString();else{var o=[];utils.forEach(t,function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),o.push(encode(t)+"="+encode(e))}))}),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(t){utils.forEach(this.handlers,function(e){null!==e&&t(e)})};var InterceptorManager_1=InterceptorManager,transformData=function(t,r,e){return utils.forEach(e,function(e){t=e(t,r)}),t},isCancel=function(e){return!(!e||!e.__CANCEL__)},normalizeHeaderName=function(r,n){utils.forEach(r,function(e,t){t!==n&&t.toUpperCase()===n.toUpperCase()&&(r[n]=e,delete r[t])})},enhanceError=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},createError=function(e,t,r,n,o){var i=new Error(e);return enhanceError(i,t,r,n,o)},settle=function(e,t,r){var n=r.config.validateStatus;!n||n(r.status)?e(r):t(createError("Request failed with status code "+r.status,r.config,null,r.request,r))},isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},buildFullPath=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(e){var t,r,n,o={};return e&&utils.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=utils.trim(e.substr(0,n)).toLowerCase(),r=utils.trim(e.substr(n+1)),t){if(o[t]&&0<=ignoreDuplicateOf.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o},isURLSameOrigin=utils.isStandardBrowserEnv()?(lb=/(msie|trident)/i.test(navigator.userAgent),mb=document.createElement("a"),nb=ob(window.location.href),function(e){var t=utils.isString(e)?ob(e):e;return t.protocol===nb.protocol&&t.host===nb.host}):function(){return!0},nb,lb,mb;function ob(e){var t=e;return lb&&(mb.setAttribute("href",t),t=mb.href),mb.setAttribute("href",t),{href:mb.href,protocol:mb.protocol?mb.protocol.replace(/:$/,""):"",host:mb.host,search:mb.search?mb.search.replace(/^\?/,""):"",hash:mb.hash?mb.hash.replace(/^#/,""):"",hostname:mb.hostname,port:mb.port,pathname:"/"===mb.pathname.charAt(0)?mb.pathname:"/"+mb.pathname}}var cookies=utils.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),utils.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),utils.isString(n)&&s.push("path="+n),utils.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},xhr=function(f){return new Promise(function(r,n){var o=f.data,i=f.headers;utils.isFormData(o)&&delete i["Content-Type"];var s=new XMLHttpRequest;if(f.auth){var e=f.auth.username||"",t=f.auth.password||"";i.Authorization="Basic "+btoa(e+":"+t)}var a=buildFullPath(f.baseURL,f.url);if(s.open(f.method.toUpperCase(),buildURL(a,f.params,f.paramsSerializer),!0),s.timeout=f.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in s?parseHeaders(s.getAllResponseHeaders()):null,t={data:f.responseType&&"text"!==f.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:e,config:f,request:s};settle(r,n,t),s=null}},s.onabort=function(){s&&(n(createError("Request aborted",f,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(createError("Network Error",f,null,s)),s=null},s.ontimeout=function(){var e="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(e=f.timeoutErrorMessage),n(createError(e,f,"ECONNABORTED",s)),s=null},utils.isStandardBrowserEnv()){var u=cookies,c=(f.withCredentials||isURLSameOrigin(a))&&f.xsrfCookieName?u.read(f.xsrfCookieName):void 0;c&&(i[f.xsrfHeaderName]=c)}if("setRequestHeader"in s&&utils.forEach(i,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:s.setRequestHeader(t,e)}),utils.isUndefined(f.withCredentials)||(s.withCredentials=!!f.withCredentials),f.responseType)try{s.responseType=f.responseType}catch(e){if("json"!==f.responseType)throw e}"function"==typeof f.onDownloadProgress&&s.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(e){s&&(s.abort(),n(e),s=null)}),void 0===o&&(o=null),s.send(o)})},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=xhr),e}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults;function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest=function(t){return throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=transformData(t.data,t.headers,t.transformRequest),t.headers=utils.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),utils.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||defaults_1.adapter)(t).then(function(e){return throwIfCancellationRequested(t),e.data=transformData(e.data,e.headers,t.transformResponse),e},function(e){return isCancel(e)||(throwIfCancellationRequested(t),e&&e.response&&(e.response.data=transformData(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})},mergeConfig=function(t,r){r=r||{};var n={},e=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];utils.forEach(e,function(e){void 0!==r[e]&&(n[e]=r[e])}),utils.forEach(o,function(e){utils.isObject(r[e])?n[e]=utils.deepMerge(t[e],r[e]):void 0!==r[e]?n[e]=r[e]:utils.isObject(t[e])?n[e]=utils.deepMerge(t[e]):void 0!==t[e]&&(n[e]=t[e])}),utils.forEach(i,function(e){void 0!==r[e]?n[e]=r[e]:void 0!==t[e]&&(n[e]=t[e])});var s=e.concat(o).concat(i),a=Object.keys(r).filter(function(e){return-1===s.indexOf(e)});return utils.forEach(a,function(e){void 0!==r[e]?n[e]=r[e]:void 0!==t[e]&&(n[e]=t[e])}),n};function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e,t){"string"==typeof e?(e=t||{}).url=arguments[0]:e=e||{},(e=mergeConfig(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=[dispatchRequest,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){r.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n},Axios.prototype.getUri=function(e){return e=mergeConfig(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],function(r){Axios.prototype[r]=function(e,t){return this.request(utils.merge(t||{},{method:r,url:e}))}}),utils.forEach(["post","put","patch"],function(n){Axios.prototype[n]=function(e,t,r){return this.request(utils.merge(r||{},{method:n,url:e,data:t}))}});var Axios_1=Axios;function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new Cancel_1(e),t(r.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var t;return{token:new CancelToken(function(e){t=e}),cancel:t}};var CancelToken_1=CancelToken,spread=function(t){return function(e){return t.apply(null,e)}};function createInstance(e){var t=new Axios_1(e),r=bind(Axios_1.prototype.request,t);return utils.extend(r,Axios_1.prototype,t),utils.extend(r,t),r}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(e){return createInstance(mergeConfig(axios.defaults,e))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(e){return Promise.all(e)},axios.spread=spread;var axios_1=axios,default_1=axios;axios_1.default=default_1;var axios$1=axios_1,has=Object.prototype.hasOwnProperty,isArray$1=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(isArray$1(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},merge$1=function n(o,i,s){if(!i)return o;if("object"!=typeof i){if(isArray$1(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(s&&(s.plainObjects||s.allowPrototypes)||!has.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var e=o;return isArray$1(o)&&!isArray$1(i)&&(e=arrayToObject(o,s)),isArray$1(o)&&isArray$1(i)?(i.forEach(function(e,t){if(has.call(o,t)){var r=o[t];r&&"object"==typeof r&&e&&"object"==typeof e?o[t]=n(r,e,s):o.push(e)}else o[t]=e}),o):Object.keys(i).reduce(function(e,t){var r=i[t];return has.call(e,t)?e[t]=n(e[t],r,s):e[t]=r,e},e)},assign=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},decode=function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode$1=function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",i=0;i<n.length;++i){var s=n.charCodeAt(i);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122?o+=n.charAt(i):s<128?o+=hexTable[s]:s<2048?o+=hexTable[192|s>>6]+hexTable[128|63&s]:s<55296||57344<=s?o+=hexTable[224|s>>12]+hexTable[128|s>>6&63]+hexTable[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(i)),o+=hexTable[240|s>>18]+hexTable[128|s>>12&63]+hexTable[128|s>>6&63]+hexTable[128|63&s])}return o},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],s=Object.keys(i),a=0;a<s.length;++a){var u=s[a],c=i[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:u}),r.push(c))}return compactQueue(t),e},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBuffer$1=function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,t){return[].concat(e,t)},utils$1={arrayToObject:arrayToObject,assign:assign,combine:combine,compact:compact,decode:decode,encode:encode$1,isBuffer:isBuffer$1,isRegExp:isRegExp,merge:merge$1},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats=utils$1.assign({default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}}},Format),has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},isArray$2=Array.isArray,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$2(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$1.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},stringify=function e(t,r,n,o,i,s,a,u,c,f,l,p,d){var h=t;if("function"==typeof a?h=a(r,h):h instanceof Date?h=f(h):"comma"===n&&isArray$2(h)&&(h=h.join(",")),null===h){if(o)return s&&!p?s(r,defaults$1.encoder,d,"key"):r;h=""}if(isNonNullishPrimitive(h)||utils$1.isBuffer(h))return s?[l(p?r:s(r,defaults$1.encoder,d,"key"))+"="+l(s(h,defaults$1.encoder,d,"value"))]:[l(r)+"="+l(String(h))];var y,m=[];if(void 0===h)return m;if(isArray$2(a))y=a;else{var b=Object.keys(h);y=u?b.sort(u):b}for(var v=0;v<y.length;++v){var g=y[v];i&&null===h[g]||(isArray$2(h)?pushToArray(m,e(h[g],"function"==typeof n?n(r,g):r,n,o,i,s,a,u,c,f,l,p,d)):pushToArray(m,e(h[g],r+(c?"."+g:"["+g+"]"),n,o,i,s,a,u,c,f,l,p,d)))}return m},normalizeStringifyOptions=function(e){if(!e)return defaults$1;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||defaults$1.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=formats.default;if(void 0!==e.format){if(!has$1.call(formats.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=formats.formatters[r],o=defaults$1.filter;return"function"!=typeof e.filter&&!isArray$2(e.filter)||(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:void 0===e.allowDots?defaults$1.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$1.charsetSentinel,delimiter:void 0===e.delimiter?defaults$1.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:defaults$1.encode,encoder:"function"==typeof e.encoder?e.encoder:defaults$1.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:o,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:defaults$1.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:defaults$1.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(e,t){var r,n=e,o=normalizeStringifyOptions(t);"function"==typeof o.filter?n=(0,o.filter)("",n):isArray$2(o.filter)&&(r=o.filter);var i,s=[];if("object"!=typeof n||null===n)return"";i=t&&t.arrayFormat in arrayPrefixGenerators?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=arrayPrefixGenerators[i];r=r||Object.keys(n),o.sort&&r.sort(o.sort);for(var u=0;u<r.length;++u){var c=r[u];o.skipNulls&&null===n[c]||pushToArray(s,stringify(n[c],c,a,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var f=s.join(o.delimiter),l=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),0<f.length?l+f:""},has$2=Object.prototype.hasOwnProperty,isArray$3=Array.isArray,defaults$2={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$1.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,t){var r,n={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=o.split(t.delimiter,i),a=-1,u=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&(s[r]===charsetSentinel?u="utf-8":s[r]===isoSentinel&&(u="iso-8859-1"),a=r,r=s.length);for(r=0;r<s.length;++r)if(r!==a){var c,f,l=s[r],p=l.indexOf("]="),d=-1===p?l.indexOf("="):p+1;(f=-1===d?(c=t.decoder(l,defaults$2.decoder,u,"key"),t.strictNullHandling?null:""):(c=t.decoder(l.slice(0,d),defaults$2.decoder,u,"key"),t.decoder(l.slice(d+1),defaults$2.decoder,u,"value")))&&t.interpretNumericEntities&&"iso-8859-1"===u&&(f=interpretNumericEntities(f)),f&&"string"==typeof f&&t.comma&&-1<f.indexOf(",")&&(f=f.split(",")),-1<l.indexOf("[]=")&&(f=isArray$3(f)?[f]:f),has$2.call(n,c)?n[c]=utils$1.combine(n[c],f):n[c]=f}return n},parseObject=function(e,t,r){for(var n=t,o=e.length-1;0<=o;--o){var i,s=e[o];if("[]"===s&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(a,10);r.parseArrays||""!==a?!isNaN(u)&&s!==a&&String(u)===a&&0<=u&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[a]=n:i={0:n}}n=i}return n},parseKeys=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=0<r.depth&&/(\[[^[\]]*])/.exec(n),s=i?n.slice(0,i.index):n,a=[];if(s){if(!r.plainObjects&&has$2.call(Object.prototype,s)&&!r.allowPrototypes)return;a.push(s)}for(var u=0;0<r.depth&&null!==(i=o.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&has$2.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;a.push(i[1])}return i&&a.push("["+n.slice(i.index)+"]"),parseObject(a,t,r)}},normalizeParseOptions=function(e){if(!e)return defaults$2;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?defaults$2.charset:e.charset;return{allowDots:void 0===e.allowDots?defaults$2.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:defaults$2.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:defaults$2.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$2.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:defaults$2.comma,decoder:"function"==typeof e.decoder?e.decoder:defaults$2.decoder,delimiter:"string"==typeof e.delimiter||utils$1.isRegExp(e.delimiter)?e.delimiter:defaults$2.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:defaults$2.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:defaults$2.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:defaults$2.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:defaults$2.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$2.strictNullHandling}},parse=function(e,t){var r=normalizeParseOptions(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?parseValues(e,r):e,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),s=0;s<i.length;++s){var a=i[s],u=parseKeys(a,n[a],r);o=utils$1.merge(o,u,r)}return utils$1.compact(o)},lib={formats:formats,parse:parse,stringify:stringify_1},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function JsonToXml(){this.result=[]}var spacialChars=["&","<",">",'"',"'"],validChars=["&","<",">",'"',"'"];JsonToXml.prototype.toString=function(){return this.result.join("")},JsonToXml.prototype.toUpperCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},JsonToXml.prototype.replaceSpecialChar=function(e){for(var t=0;t<spacialChars.length;t++)e=e.replace(new RegExp(spacialChars[t],"g"),validChars[t]);return e},JsonToXml.prototype.appendText=function(e){e=this.replaceSpecialChar(e),this.result.push(e)},JsonToXml.prototype.appendAttr=function(e,t){this.result.push(" "+e+'="'+t)},JsonToXml.prototype.appendFlagBeginS=function(e){e=this.toUpperCase(e),this.result.push("<"+e)},JsonToXml.prototype.appendFlagBeginE=function(){this.result.push(">")},JsonToXml.prototype.appendFlagEnd=function(e){e=this.toUpperCase(e),this.result.push("</"+e+">")},JsonToXml.prototype.parse=function(e){return this.result=[],this.convert(e),this.toString()},JsonToXml.prototype.convert=function(e){if("object"===(void 0===e?"undefined":_typeof(e)))for(var t in e)this.appendFlagBeginS(t),this.appendFlagBeginE(),"object"===_typeof(e[t])?this.convert(e[t]):this.appendText(e[t]+""),this.appendFlagEnd(t)};var jsonToXml=new JsonToXml,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var md5=createCommonjsModule(function(module){!function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var r=OUTPUT_TYPES[e];t[r]=createOutputMethod(r)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!=r){if("object"!=r)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var n,o,i=0,s=e.length,a=this.blocks,u=this.buffer8;i<s;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(ARRAY_BUFFER)for(o=this.start;i<s&&o<64;++i)u[o++]=e[i];else for(o=this.start;i<s&&o<64;++i)a[o>>2]|=e[i]<<SHIFT[3&o++];else if(ARRAY_BUFFER)for(o=this.start;i<s&&o<64;++i)(n=e.charCodeAt(i))<128?u[o++]=n:(n<2048?u[o++]=192|n>>6:(n<55296||57344<=n?u[o++]=224|n>>12:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),u[o++]=240|n>>18,u[o++]=128|n>>12&63),u[o++]=128|n>>6&63),u[o++]=128|63&n);else for(o=this.start;i<s&&o<64;++i)(n=e.charCodeAt(i))<128?a[o>>2]|=n<<SHIFT[3&o++]:(n<2048?a[o>>2]|=(192|n>>6)<<SHIFT[3&o++]:(n<55296||57344<=n?a[o>>2]|=(224|n>>12)<<SHIFT[3&o++]:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),a[o>>2]|=(240|n>>18)<<SHIFT[3&o++],a[o>>2]|=(128|n>>12&63)<<SHIFT[3&o++]),a[o>>2]|=(128|n>>6&63)<<SHIFT[3&o++]),a[o>>2]|=(128|63&n)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,64<=o?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],56<=t&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,r,n,o,i,s=this.blocks;t=this.first?((t=((e=((e=s[0]-680876937)<<7|e>>>25)-271733879<<0)^(r=((r=(-271733879^(n=((n=(-1732584194^2004318071&e)+s[1]-117830708)<<12|n>>>20)+e<<0)&(-271733879^e))+s[2]-1126478375)<<17|r>>>15)+n<<0)&(n^e))+s[3]-1316259209)<<22|t>>>10)+r<<0:(e=this.h0,t=this.h1,r=this.h2,((t+=((e=((e+=((n=this.h3)^t&(r^n))+s[0]-680876936)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+s[1]-389564586)<<12|n>>>20)+e<<0)&(e^t))+s[2]+606105819)<<17|r>>>15)+n<<0)&(n^e))+s[3]-1044525330)<<22|t>>>10)+r<<0),t=((t+=((e=((e+=(n^t&(r^n))+s[4]-176418897)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+s[5]+1200080426)<<12|n>>>20)+e<<0)&(e^t))+s[6]-1473231341)<<17|r>>>15)+n<<0)&(n^e))+s[7]-45705983)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(n^t&(r^n))+s[8]+1770035416)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+s[9]-1958414417)<<12|n>>>20)+e<<0)&(e^t))+s[10]-42063)<<17|r>>>15)+n<<0)&(n^e))+s[11]-1990404162)<<22|t>>>10)+r<<0,t=((t+=((e=((e+=(n^t&(r^n))+s[12]+1804603682)<<7|e>>>25)+t<<0)^(r=((r+=(t^(n=((n+=(r^e&(t^r))+s[13]-40341101)<<12|n>>>20)+e<<0)&(e^t))+s[14]-1502002290)<<17|r>>>15)+n<<0)&(n^e))+s[15]+1236535329)<<22|t>>>10)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+s[1]-165796510)<<5|e>>>27)+t<<0)^t))+s[6]-1069501632)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+s[11]+643717713)<<14|r>>>18)+n<<0)^n))+s[0]-373897302)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+s[5]-701558691)<<5|e>>>27)+t<<0)^t))+s[10]+38016083)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+s[15]-660478335)<<14|r>>>18)+n<<0)^n))+s[4]-405537848)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+s[9]+568446438)<<5|e>>>27)+t<<0)^t))+s[14]-1019803690)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+s[3]-187363961)<<14|r>>>18)+n<<0)^n))+s[8]+1163531501)<<20|t>>>12)+r<<0,t=((t+=((n=((n+=(t^r&((e=((e+=(r^n&(t^r))+s[13]-1444681467)<<5|e>>>27)+t<<0)^t))+s[2]-51403784)<<9|n>>>23)+e<<0)^e&((r=((r+=(e^t&(n^e))+s[7]+1735328473)<<14|r>>>18)+n<<0)^n))+s[12]-1926607734)<<20|t>>>12)+r<<0,t=((t+=((i=(n=((n+=((o=t^r)^(e=((e+=(o^n)+s[5]-378558)<<4|e>>>28)+t<<0))+s[8]-2022574463)<<11|n>>>21)+e<<0)^e)^(r=((r+=(i^t)+s[11]+1839030562)<<16|r>>>16)+n<<0))+s[14]-35309556)<<23|t>>>9)+r<<0,t=((t+=((i=(n=((n+=((o=t^r)^(e=((e+=(o^n)+s[1]-1530992060)<<4|e>>>28)+t<<0))+s[4]+1272893353)<<11|n>>>21)+e<<0)^e)^(r=((r+=(i^t)+s[7]-155497632)<<16|r>>>16)+n<<0))+s[10]-1094730640)<<23|t>>>9)+r<<0,t=((t+=((i=(n=((n+=((o=t^r)^(e=((e+=(o^n)+s[13]+681279174)<<4|e>>>28)+t<<0))+s[0]-358537222)<<11|n>>>21)+e<<0)^e)^(r=((r+=(i^t)+s[3]-722521979)<<16|r>>>16)+n<<0))+s[6]+76029189)<<23|t>>>9)+r<<0,t=((t+=((i=(n=((n+=((o=t^r)^(e=((e+=(o^n)+s[9]-640364487)<<4|e>>>28)+t<<0))+s[12]-421815835)<<11|n>>>21)+e<<0)^e)^(r=((r+=(i^t)+s[15]+530742520)<<16|r>>>16)+n<<0))+s[2]-995338651)<<23|t>>>9)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+s[0]-198630844)<<6|e>>>26)+t<<0)|~r))+s[7]+1126891415)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+s[14]-1416354905)<<15|r>>>17)+n<<0)|~e))+s[5]-57434055)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+s[12]+1700485571)<<6|e>>>26)+t<<0)|~r))+s[3]-1894986606)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+s[10]-1051523)<<15|r>>>17)+n<<0)|~e))+s[1]-2054922799)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+s[8]+1873313359)<<6|e>>>26)+t<<0)|~r))+s[15]-30611744)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+s[6]-1560198380)<<15|r>>>17)+n<<0)|~e))+s[13]+1309151649)<<21|t>>>11)+r<<0,t=((t+=((n=((n+=(t^((e=((e+=(r^(t|~n))+s[4]-145523070)<<6|e>>>26)+t<<0)|~r))+s[11]-1120210379)<<10|n>>>22)+e<<0)^((r=((r+=(e^(n|~t))+s[2]+718787259)<<15|r>>>17)+n<<0)|~e))+s[9]-343485551)<<21|t>>>11)+r<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=r-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,r,n="",o=this.array(),i=0;i<15;)e=o[i++],t=o[i++],r=o[i++],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|r>>>6)]+BASE64_ENCODE_CHAR[63&r];return e=o[i],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports}()});function calculateVerifySign(t){var r=[];Object.keys(t).sort().forEach(function(e){!t[e]&&!1!==t[e]||r.push(e+"="+t[e])}),r.push(md5(yuansfer.token));var e=r.join("&");return md5(e)}var service=axios$1.create({transformRequest:[function(e){return e=lib.stringify(e)}],headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},timeout:1e5});function securePay(t){return service({url:"/online/v3/secure-pay",method:"post",data:{amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,vendor:t.vendor,ipnUrl:t.ipnUrl,callbackUrl:t.callbackUrl,terminal:t.terminal,reference:t.reference,description:t.description,note:t.note,osType:t.osType,timeout:t.timeout,goodsInfo:t.goodsInfo,creditType:t.creditType,paymentCount:t.paymentCount,frequency:t.frequency}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function updateRecurring(t){return service({url:"/creditpay/v3/update-recurring",method:"post",data:{scheduleNo:t.scheduleNo,paymentCount:t.paymentCount,status:t.status}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function add(t){return service({url:"/app-instore/v3/add",method:"post",data:{storeAdminNo:t.storeAdminNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,reference:t.reference,description:t.description}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),e})}function pay(t){return service({url:"/app-instore/v3/pay",method:"post",data:{storeAdminNo:t.storeAdminNo,transactionNo:t.transactionNo,reference:t.reference,paymentBarcode:t.paymentBarcode,vendor:t.vendor}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function createTransQrcode(t){return service({url:"/app-instore/v3/create-trans-qrcode",method:"post",data:{storeAdminNo:t.storeAdminNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,vendor:t.vendor,reference:t.reference,ipnUrl:t.ipnUrl,needQrcode:t.needQrcode,timeout:t.timeout}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function reverse(t){return service({url:"/app-instore/v3/reverse",method:"post",data:{storeAdminNo:t.storeAdminNo,transactionNo:t.transactionNo,reference:t.reference}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function authCapture(t){return service({url:"/app-auth/v3/auth-capture",method:"post",data:{outAuthInfoNo:t.outAuthInfoNo,outAuthDetailNo:t.outAuthDetailNo,reference:t.reference,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,ipnUrl:t.ipnUrl,authConfirmModel:t.authConfirmModel}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function authDetailQuery(t){return service({url:"/app-auth/v3/auth-detail-query",method:"post",data:{outAuthInfoNo:t.outAuthInfoNo,outAuthDetailNo:t.outAuthDetailNo}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function authFreeze(t){return service({url:"/app-auth/v3/auth-freeze",method:"post",data:{outAuthInfoNo:t.outAuthInfoNo,outAuthDetailNo:t.outAuthDetailNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,authIpnUrl:t.authIpnUrl,vendor:t.vendor,paymentBarcode:t.paymentBarcode,note:t.note}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function authUnfreeze(t){return service({url:"/app-auth/v3/auth-unfreeze",method:"post",data:{outAuthInfoNo:t.outAuthInfoNo,outAuthDetailNo:t.outAuthDetailNo,unfreezeAmount:t.unfreezeAmount,currency:t.currency,settleCurrency:t.settleCurrency,authIpnUrl:t.authIpnUrl}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function voucherCreate(t){return service({url:"/app-auth/v3/voucher-create",method:"post",data:{outAuthInfoNo:t.outAuthInfoNo,outAuthDetailNo:t.outAuthDetailNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,authIpnUrl:t.ipnUrl,vendor:t.vendor,note:t.note}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function cashierAdd(t){return service({url:"/app-instore/v3/cashier-add",method:"post",data:{storeAdminNo:t.storeAdminNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,transactionNo:t.transactionNo,reference:t.reference,ipnUrl:t.ipnUrl}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function prepay(t){return service({url:"/micropay/v3/prepay",method:"post",data:{amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,vendor:t.vendor,ipnUrl:t.ipnUrl,openid:t.openid,reference:t.reference,terminal:t.terminal,description:t.description,note:t.note,timeout:t.timeout}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function braintreePayments(t){return service({url:"/creditpay/v3/process",method:"post",data:{paymentMethodNonce:t.paymentMethodNonce,paymentMethod:t.paymentMethod,transactionNo:t.transactionNo}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function expressPay(t){return service({url:"/micropay/v3/express-pay",method:"post",data:{amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,cardNumber:t.cardNumber,cardExpYear:t.cardExpYear,cardExpMonth:t.cardExpMonth,cardCvv:t.cardCvv,reference:t.reference,clientIp:t.clientIp}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function refund(t){return service({url:"/app-data-search/v3/refund",method:"post",data:{refundAmount:t.refundAmount,currency:t.currency,settleCurrency:t.settleCurrency,transactionNo:t.transactionNo,reference:t.reference,refundReference:t.refundReference}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function tranQuery(t){return service({url:"/app-data-search/v3/tran-query",method:"post",data:{transactionNo:t.transactionNo,reference:t.reference}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function dataReverse(t){return service({url:"/app-data-search/v3/reverse",method:"post",data:{transactionNo:t.transactionNo,reference:t.reference}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function autoDebitApplyToken(t){return service({url:"/auto-debit/v3/apply-token",method:"post",data:{autoDebitNo:t.autoDebitNo,grantType:t.grantType}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function autoDebitConsult(t){return service({url:"/auto-debit/v3/consult",method:"post",data:{note:t.note,osType:t.osType,osVersion:t.osVersion,autoIpnUrl:t.autoIpnUrl,autoRedirectUrl:t.autoRedirectUrl,autoReference:t.autoReference,terminal:t.terminal,vendor:t.vendor}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function autoDebitPay(t){return service({url:"/auto-debit/v3/pay",method:"post",data:{autoDebitNo:t.autoDebitNo,amount:t.amount,currency:t.currency,settleCurrency:t.settleCurrency,reference:t.reference,ipnUrl:t.ipnUrl}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}function autoDebitRevoke(t){return service({url:"/auto-debit/v3/revoke",method:"post",data:{autoDebitNo:t.autoDebitNo}}).then(function(e){return"function"==typeof t.success&&t.success(e),e}).catch(function(e){return"function"==typeof t.error&&t.error(e),Promise.reject(e)})}service.interceptors.request.use(function(e){return e.url=yuansfer.baseURL+e.url,1==yuansfer.isvFlag&&(e.data.merGroupNo=yuansfer.merGroupNo),e.data.merchantNo=yuansfer.merchantNo,e.data.storeNo=yuansfer.storeNo,e.data.verifySign=calculateVerifySign(e.data),e},function(e){console.log(e),Promise.reject(e)}),service.interceptors.response.use(function(e){var t=e.data,r=t.ret_code;return yuansfer.responseXml&&(t=jsonToXml.parse(t)),"000100"===r?t:Promise.reject(t)},function(e){return console.log("err"+e),Promise.reject(e)});var apis={securePay:securePay,updateRecurring:updateRecurring,add:add,pay:pay,createTransQrcode:createTransQrcode,reverse:reverse,cashierAdd:cashierAdd,prepay:prepay,braintreePayments:braintreePayments,expressPay:expressPay,refund:refund,tranQuery:tranQuery,dataReverse:dataReverse,authCapture:authCapture,authDetailQuery:authDetailQuery,authFreeze:authFreeze,authUnfreeze:authUnfreeze,voucherCreate:voucherCreate,autoDebitApplyToken:autoDebitApplyToken,autoDebitConsult:autoDebitConsult,autoDebitPay:autoDebitPay,autoDebitRevoke:autoDebitRevoke};function Yuansfer(){this.merchantNo=null,this.storeNo=null,this.token=null,this.baseURL=null,this.isvFlag=null,this.merGroupNo=null,this.responseXml=!1,this.src=null}Yuansfer.prototype._setBaseURL=function(e){e=e||"prod";this.baseURL="other"!==e?{prod:"https://mapi.yuansfer.com",test:"https://mapi.yuansfer.yunkeguan.com",dev:"http://zk-tys.yunkeguan.com"}[e]:this.src},Yuansfer.prototype.init=function(e){return e.merchantNo?e.storeNo?e.token?0!=e.isvFlag&&1!=e.isvFlag?(console.error("isvFlag could not be null."),!1):1!=e.isvFlag||e.merGroupNo?(this.isvFlag=e.isvFlag,this.merGroupNo=e.merGroupNo,this.merchantNo=e.merchantNo,this.storeNo=e.storeNo,this.token=e.token,this.responseXml=e.responseXml,this.src=e.src,this._setBaseURL(e.env),void Object.assign(Yuansfer.prototype,apis)):(console.error("merGroupNo could not be null."),!1):(console.error("token could not be null."),!1):(console.error("storeNo could not be null."),!1):(console.error("merchantNo could not be null."),!1)};var yuansfer=new Yuansfer;return yuansfer});
